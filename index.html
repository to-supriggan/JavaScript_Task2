<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta content="ja_JP">
    <title>JavaScript課題②</title>
  </head>
  <body>
    <h1 name="title">JavaScript課題②</h1>
    <div class="numBox">
      <h3>【入力部】</h3>
      FizzNum:
      <input id="fizzNum" type="text">
      <br>
      BuzzNum:
      <input id="buzzNum" type="buzzNum">
      <br>
      <input type="button" value="実行" onclick="OnButtonClick();">
    </div>
    <h3>【実行結果】</h3>
    <div id="outputArea"></div>
  </body>

  <script>
    <!-- ボタン押下動作 -->
    function OnButtonClick() {
      var fizzNum = document.getElementById("fizzNum").value;
      var buzzNum = document.getElementById("buzzNum").value;

      <!-- 追加先の要素を指定する -->
      var addDiv = document.getElementById("outputArea");

      <!-- 前回の実行結果がある場合、削除する -->
      if (addDiv.hasChildNodes()){
        DeleteOutputArea(addDiv);
      }

      <!-- 入力判定(エラーはそのまま出力する) -->
      if (fizzNum.trim() == "") {
        text = document.createTextNode("FizzNumが空欄です");
        addDiv.appendChild(text);
      } else if(buzzNum.trim() == ""){
        text = document.createTextNode("BuzzNumが空欄です");
        addDiv.appendChild(text);
      } else if(fizzNum == 0 || buzzNum == 0){
        text = document.createTextNode("0が入力されているので、他の値を設定してください");
        addDiv.appendChild(text);
      } else if(!isNaN(fizzNum) && !isNaN(buzzNum)){
        DrawOutputArea(addDiv, fizzNum, buzzNum);
      } else {
        text = document.createTextNode("文字列が入力されています");
        addDiv.appendChild(text);
      }
    }

    <!-- 実効結果出力(正常系) -->
    function DrawOutputArea(addDiv, fizzNum, buzzNum) {
      var count = 1;
      while (count < 100) {
        var text;
        if (count % fizzNum == 0 && count % buzzNum == 0) {
          text = document.createTextNode("FizzBuzz " + count);
          addDiv.appendChild(text);
          addDiv.appendChild( document.createElement( 'br' ) );
        } else if (count % fizzNum == 0) {
          text = document.createTextNode("Fizz " + count);
          addDiv.appendChild(text);
          addDiv.appendChild( document.createElement( 'br' ) );
        } else if (count % buzzNum == 0) {
          text = document.createTextNode("Buzz " + count);
          addDiv.appendChild(text);
          addDiv.appendChild( document.createElement( 'br' ) );
        }
        count++;
      }
    }

    <!-- 実行結果を削除する -->
    function DeleteOutputArea(addDiv) {
      for (let i = addDiv.childNodes.length-1; i >= 0; i--) {
        addDiv.removeChild(addDiv.childNodes[i]);
      }
    }
  </script>
</html>
